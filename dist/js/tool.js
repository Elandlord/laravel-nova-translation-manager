!function(t){var e={};function s(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){s(1),t.exports=s(6)},function(t,e,s){Nova.booting(function(t,e,a){t.config.devtools=!0,e.addRoutes([{name:"nova-translation-manager",path:"/nova-translation-manager",component:s(2)}])})},function(t,e,s){var a=s(3)(s(4),s(5),!1,null,null,null);t.exports=a.exports},function(t,e){t.exports=function(t,e,s,a,n,o){var r,l=t=t||{},i=typeof t.default;"object"!==i&&"function"!==i||(r=t,l=t.default);var u,c="function"==typeof l?l.options:l;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),s&&(c.functional=!0),n&&(c._scopeId=n),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=u):a&&(u=a),u){var d=c.functional,p=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(t,e){return u.call(e),p(t,e)}):c.beforeCreate=p?[].concat(p,u):[u]}return{esModule:r,exports:l,options:c}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{groupSelected:function(){return null!==this.group}},data:function(){return{group:null,groups:[],newGroup:null,selectedGroup:null,keywords:null,locales:[],selected:{},translations:[],createModalOpened:!1,updateModalOpened:!1,apiUrl:"/voicecode/nova-translation-manager/"}},mounted:function(){this.getGroups(),this.getLocales()},methods:{getGroups:function(){var t=this;axios.get(this.apiUrl+"translations").then(function(e){t.groups=e.data})},getLocales:function(){var t=this;axios.get(this.apiUrl+"locales").then(function(e){t.locales=e.data})},setGroup:function(){var t=this;axios.get(this.apiUrl+"translations/"+this.group).then(function(e){t.translations=e.data})},createGroup:function(){var t=this;if(null!==this.newGroup&&""!==this.newGroup){var e={};e.group=this.newGroup,axios.post(this.apiUrl+"groups",e).then(function(e){t.group=e.data.group,t.getGroups(),t.setGroup(t.group),t.newGroup=null}).catch(function(e){t.$toasted.show(e.response.data.errors.group[0],{type:"error"})})}},createKeywords:function(){var t=this,e={};e.group=this.group,e.keywords=this.keywords,axios.post(this.apiUrl+"translations",e).then(function(e){t.closeCreateModal(),t.setGroup(t.group),t.$toasted.show("The translation has been created!",{type:"success"})})},updateTranslation:function(){var t=this,e={};e.id=this.selected.id,e.value=this.selected.value,axios.put(this.apiUrl+"translations/"+this.selected.id,e).then(function(e){t.closeUpdateModal(),t.setGroup(t.group),t.$toasted.show("The translation has been updated!",{type:"success"})})},exportTranslations:function(){var t=this,e={};e.group=this.group,axios.post(this.apiUrl+"translations/export",e).then(function(e){t.$toasted.show("The translations have been exported!",{type:"success"})})},openCreateModal:function(){this.createModalOpened=!0},closeCreateModal:function(){this.keywords=null,this.createModalOpened=!1},openUpdateModal:function(t){this.selected=Object.assign({},t),this.updateModalOpened=!0},closeUpdateModal:function(){this.selected=Object.assign({},{}),this.updateModalOpened=!1}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("heading",{staticClass:"mb-6"},[t._v("Translation Manager")]),t._v(" "),s("div",{staticClass:"px-2"},[s("div",{staticClass:"flex -mx-2"},[s("div",{staticClass:"w-1/2 px-2"},[s("card",{staticClass:"p-6"},[s("h3",{staticClass:"mb-4"},[t._v(t._s(t.__("Select a group")))]),t._v(" "),s("div",{staticClass:"flex items-end"},[s("div",{staticClass:"w-1/3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.group,expression:"group"}],staticClass:"form-control form-input form-input-bordered w-full",attrs:{size:"1"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.group=e.target.multiple?s:s[0]},t.setGroup]}},t._l(t.groups,function(e,a){return s("option",{domProps:{value:e}},[t._v(t._s(e))])}),0)]),t._v(" "),s("div",{staticClass:"w-1/3 px-2"},[t.groupSelected?s("button",{staticClass:"btn btn-default btn-primary w-full",on:{click:t.exportTranslations}},[t._v("\n                                "+t._s(t.__("Publish"))+"\n                            ")]):t._e()]),t._v(" "),s("div",{staticClass:"w-1/3"},[t.groupSelected?s("button",{staticClass:"btn btn-default btn-outline w-full",on:{click:t.openCreateModal}},[t._v("\n                                "+t._s(t.__("Add Keyword"))+"\n                            ")]):t._e()])])])],1),t._v(" "),s("div",{staticClass:"w-1/2 px-2"},[s("card",{staticClass:"p-6"},[s("h3",{staticClass:"mb-4"},[t._v(t._s(t.__("Create a group")))]),t._v(" "),s("div",{staticClass:"flex items-end"},[s("div",{staticClass:"w-1/3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newGroup,expression:"newGroup"}],staticClass:"form-control form-input form-input-bordered w-full",domProps:{value:t.newGroup},on:{input:function(e){e.target.composing||(t.newGroup=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"w-1/3 px-2"},[s("button",{staticClass:"btn btn-default btn-primary w-full",on:{click:t.createGroup}},[t._v("\n                                "+t._s(t.__("Create Group"))+"\n                            ")])]),t._v(" "),s("div",{staticClass:"w-1/3"})])])],1)])]),t._v(" "),t.groupSelected?s("card",{staticClass:"mt-6"},[s("table",{staticClass:"table w-full"},[s("thead",[s("th",{staticClass:"text-left"},[t._v("Keyword")]),t._v(" "),t._l(t.locales,function(e,a){return s("th",{staticClass:"text-left"},[t._v(t._s(e))])})],2),t._v(" "),s("tbody",t._l(t.translations,function(e){return s("tr",[s("td",[t._v(t._s(e[t.locales[0]].key))]),t._v(" "),t._l(t.locales,function(a,n){return s("td",{on:{click:function(s){return t.openUpdateModal(e[a])}}},[e[a]&&null!==e[a].value?s("span",{staticClass:"cursor-pointer"},[e[a].value.length>80?s("span",[t._v(t._s(e[a].value.substring(0,80))+"...")]):s("span",[t._v(t._s(e[a].value))])]):s("span",[s("em",{staticClass:"text-danger"},[t._v(t._s(t.__("Not Available")))])])])})],2)}),0)])]):t._e(),t._v(" "),s("portal",{attrs:{to:"modals"}},[s("transition",{attrs:{name:"fade"}},[t.updateModalOpened?s("modal",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[s("card",{staticClass:"w-full"},[s("heading",{staticClass:"pt-8 px-8",attrs:{level:2}},[t._v(t._s(t.__("Update Translation")))]),t._v(" "),s("div",{staticClass:"p-8"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.selected.value,expression:"selected.value"}],staticClass:"w-full form-input form-input-bordered p-4",attrs:{rows:"6",cols:"90"},domProps:{value:t.selected.value},on:{input:function(e){e.target.composing||t.$set(t.selected,"value",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"bg-30 px-6 py-3 flex"},[s("div",{staticClass:"flex items-center ml-auto"},[s("button",{staticClass:"btn text-80 font-normal h-9 px-3 mr-3 btn-link",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.closeUpdateModal(e)}}},[t._v("\n                                "+t._s(t.__("Cancel"))+"\n                            ")]),t._v(" "),s("button",{staticClass:"btn btn-default btn-primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateTranslation(e)}}},[t._v("\n                                "+t._s(t.__("Save"))+"\n                            ")])])])],1)],1):t._e(),t._v(" "),t.createModalOpened?s("modal",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[s("card",{staticClass:"w-full"},[s("heading",{staticClass:"pt-8 px-8",attrs:{level:2}},[t._v(t._s(t.__("Add Keywords")))]),t._v(" "),s("div",{staticClass:"px-8 mt-3"},[s("p",[t._v(t._s(t.__("Add 1 key per line, without the group prefix")))])]),t._v(" "),s("div",{staticClass:"p-8"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],staticClass:"w-full form-input form-input-bordered p-4",attrs:{rows:"6",cols:"90"},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"bg-30 px-6 py-3 flex"},[s("div",{staticClass:"flex items-center ml-auto"},[s("button",{staticClass:"btn text-80 font-normal h-9 px-3 mr-3 btn-link",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.closeCreateModal(e)}}},[t._v("\n                                "+t._s(t.__("Cancel"))+"\n                            ")]),t._v(" "),s("button",{staticClass:"btn btn-default btn-primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.createKeywords(e)}}},[t._v("\n                                "+t._s(t.__("Save"))+"\n                            ")])])])],1)],1):t._e()],1)],1)],1)},staticRenderFns:[]}},function(t,e){}]);